#主体

##数据流
```
A.添加任务
提交定时任务->计算下次执行绝对时间->2.塞入等待队列(优先级队列)->时间到达
(每秒检查一次)->从队列内移除->执行队列
->执行->cron/fixrate->等待队列->2
      ->once->end

B.从库内初始化
读库获取任务列表->依次提交定时任务到等待队列

C.监控线程
读取执行表和任务表->校验执行次数和时间->异常->是否立即执行-Y->执行

D.执行线程
检查执行时间，检查是否加锁
执行，更新执行时间

```


##核心数据结构


##定时线程


##执行线程


##监控线程

----
#Q
服务器时间不统一
尽量减少系统资源

#原始方案A
核心类ScheduledExecutorService
定时线程xN

##流程
新增任务
校验参数->入库->计算delay,period->按delay+period提交到线程池->等待执行

执行流程
检查是否加锁->执行->更新执行信息和日志

检查流程
检查是否有进程保有当前任务->最近执行历史->添加到线程池

##问题
等待线程过多，和定时任务数量成正比

#方案B
ScheduledExecutorService
调度线程x1
检查线程x1
监控线程x1

ExecutorService
执行线程xN

等待队列(优先级队列)

执行队列

##问题




















